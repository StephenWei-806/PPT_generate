import{r as e,u as a,o as t,a as l,c as s,b as o,d as n,w as i,e as r,n as c,f as d,t as u,g as v,h as p,i as m,j as h,k as f,l as g,m as k,p as y,v as b,q as P,s as w,x as C,y as x,F as I,z as T,A,B as M,C as _,D as E,E as S}from"./vendor-qSDzhPZr.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const L=(e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t},K={class:"header-container"},j={class:"header-nav"},O={class:"nav-menu"},V={class:"nav-item"},R={class:"nav-item"},B={class:"header-actions"},D=["title"],$={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},N={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},U={class:"mobile-nav-menu"},z={class:"mobile-nav-item"},H={class:"mobile-nav-item"},q={class:"mobile-theme-toggle"},F={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",class:"mr-2"},G={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",class:"mr-2"},J=L({__name:"Header",setup(p){const m=a(),h=e(!1),f=e(!1),g=e(!1),k=e(!1),y=()=>{f.value=window.scrollY>10},b=()=>{g.value=!g.value,g.value?document.body.style.overflow="hidden":document.body.style.overflow=""},P=()=>{g.value=!1,document.body.style.overflow=""},w=()=>{k.value=!k.value,C()},C=()=>{const e=document.documentElement;k.value?(e.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(e.removeAttribute("data-theme"),localStorage.setItem("theme","light"))},x=window.matchMedia("(prefers-color-scheme: dark)"),I=e=>{localStorage.getItem("theme")||(k.value=e.matches,C())};return!m||!m.path||m.path,t(()=>{h.value=!0,(()=>{const e=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;k.value=!("dark"!==e&&(e||!a)),C()})(),window.addEventListener("scroll",y,{passive:!0}),x.addEventListener("change",I),document.addEventListener("click",e=>{!document.querySelector(".header").contains(e.target)&&g.value&&P()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&g.value&&P()})}),l(()=>{window.removeEventListener("scroll",y),x.removeEventListener("change",I),document.body.style.overflow=""}),(e,a)=>{const t=r("router-link");return v(),s("header",{class:c(["header",{scrolled:f.value,"animate-in":h.value}])},[o("div",K,[n(t,{to:"/",class:"header-logo"},{default:i(()=>a[0]||(a[0]=[o("span",null,"PPT生成器",-1)])),_:1,__:[0]}),o("nav",j,[o("ul",O,[o("li",V,[n(t,{to:"/",class:c(["nav-link",{active:"/"===e.$route.path}])},{default:i(()=>a[1]||(a[1]=[d(" 首页 ",-1)])),_:1,__:[1]},8,["class"])]),o("li",R,[n(t,{to:"/settings",class:c(["nav-link",{active:"/settings"===e.$route.path}])},{default:i(()=>a[2]||(a[2]=[d(" 设置 ",-1)])),_:1,__:[2]},8,["class"])])])]),o("div",B,[o("button",{class:"theme-toggle",onClick:w,title:k.value?"切换到浅色模式":"切换到深色模式","aria-label":"切换主题"},[k.value?(v(),s("svg",N,a[4]||(a[4]=[o("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(v(),s("svg",$,a[3]||(a[3]=[o("path",{d:"M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5L17.6859 17.69L18.5 18.5M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))],8,D),o("button",{class:c(["mobile-menu-toggle",{open:g.value}]),onClick:b,"aria-label":"切换菜单"},a[5]||(a[5]=[o("div",{class:"hamburger"},[o("span",{class:"hamburger-line"}),o("span",{class:"hamburger-line"}),o("span",{class:"hamburger-line"})],-1)]),2)])]),o("nav",{class:c(["mobile-nav",{open:g.value}])},[o("ul",U,[o("li",z,[n(t,{to:"/",class:c(["mobile-nav-link",{active:"/"===e.$route.path}]),onClick:P},{default:i(()=>a[6]||(a[6]=[d(" 首页 ",-1)])),_:1,__:[6]},8,["class"])]),o("li",H,[n(t,{to:"/settings",class:c(["mobile-nav-link",{active:"/settings"===e.$route.path}]),onClick:P},{default:i(()=>a[7]||(a[7]=[d(" 设置 ",-1)])),_:1,__:[7]},8,["class"])])]),o("div",q,[o("button",{class:"btn btn-outline-secondary btn-sm w-full",onClick:w},[k.value?(v(),s("svg",G,a[9]||(a[9]=[o("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(v(),s("svg",F,a[8]||(a[8]=[o("path",{d:"M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5L17.6859 17.69L18.5 18.5M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))),d(" "+u(k.value?"浅色模式":"深色模式"),1)])])],2)],2)}}},[["__scopeId","data-v-495ce71e"]]),Z={class:"footer bg-white border-t border-gray-200 py-6 text-center text-text-secondary"};const W=L({},[["render",function(e,a){return v(),s("footer",Z,a[0]||(a[0]=[o("div",{class:"container mx-auto"},[o("p",null," PPT生成工具 | 仅供测试学习")],-1)]))}],["__scopeId","data-v-a990e02e"]]),Y={class:"app-container flex flex-col min-h-screen"},Q={class:"main-content flex-1 container mx-auto px-4 py-8"},X=L({__name:"App",setup:e=>(p(),t(()=>{}),(e,a)=>{const t=r("RouterView");return v(),s("div",Y,[n(J,{class:"header"}),o("main",Q,[n(t)]),n(W,{class:"footer"})])})},[["__scopeId","data-v-b713fe8c"]]);m();const ee=h("settings",{state:()=>({selectedAPI:"tongyi",defaultPageCount:10,apiKey:"",availableAPIs:[{value:"tongyi",name:"通义千问 (使用 qwen-plus 模型)"},{value:"deepseek",name:"DeepSeek (使用 deepseek-chat 模型)"}]}),actions:{saveSettings(){const e={selectedAPI:this.selectedAPI,defaultPageCount:this.defaultPageCount,apiKey:this.apiKey};localStorage.setItem("pptSettings",JSON.stringify(e))},loadSettings(){const e=localStorage.getItem("pptSettings");if(e){const a=JSON.parse(e);this.selectedAPI=a.selectedAPI||"tongyi",this.defaultPageCount=a.defaultPageCount||10,this.apiKey=a.apiKey||""}}}}),ae={class:"home-page"},te={class:"container"},le={class:"upload-section"},se={class:"upload-wrapper"},oe={class:"upload-content"},ne={class:"upload-text"},ie={class:"upload-title"},re={class:"upload-subtitle"},ce={class:"main-section"},de={class:"content-grid"},ue={class:"input-section"},ve={class:"card card-lg"},pe={class:"card-body"},me={class:"form-group"},he={key:0,class:"form-feedback invalid"},fe={class:"form-row"},ge={class:"col-12 md:col-6"},ke={class:"form-group"},ye={key:0,class:"form-feedback invalid"},be={class:"col-12 md:col-6"},Pe={class:"form-group"},we=["disabled"],Ce={key:0},xe={key:1},Ie={class:"output-section"},Te={class:"card card-lg"},Ae={class:"card-body"},Me={key:0,class:"empty-state"},_e={key:1,class:"loading-state"},Ee={key:0,class:"progress-text"},Se={key:2,class:"stream-content"},Le={class:"form-group"},Ke={class:"stream-output"},je={key:3,class:"result-content"},Oe={class:"form-group"},Ve={key:0,class:"card-footer"},Re={class:"download-info"},Be={class:"download-filename"},De=["href"],$e={class:"settings-page"},Ne={class:"container"},Ue={class:"settings-wrapper"},ze={class:"card card-lg"},He={class:"card-body"},qe={class:"form-section"},Fe={class:"form-group"},Ge=["value"],Je={key:0,class:"form-feedback invalid"},Ze={class:"form-group"},We={key:0,class:"form-feedback invalid"},Ye={class:"form-group"},Qe={class:"input-group"},Xe=["type"],ea={class:"input-group-append"},aa=["title"],ta={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},la={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},sa={key:0,class:"form-feedback invalid"},oa={class:"form-section"},na={class:"form-group"},ia={class:"theme-selector"},ra={class:"theme-options"},ca={class:"form-actions"},da=["disabled"],ua={key:0},va={key:1},pa=["disabled"],ma={class:"message-content"},ha={key:0,class:"message-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},fa={key:1,class:"message-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},ga={class:"message-text"},ka=[{path:"/",name:"Home",component:{__name:"Home",setup(a){const l=ee(),n=e(""),i=e(10),r=e(null),p=e(""),m=e(""),h=e(""),w=e(!1),C=e(!1),x=e(""),I=e(""),T=e(!1),A=e({}),M=e(!1),_=e(null),E=e(""),S=e(""),L=e(!1),K=e(!1),j=e("IDLE"),O=f(()=>n.value.trim().length>0&&i.value>=1&&i.value<=30),V=e=>e.size<=10485760,R=e=>e.name.toLowerCase().endsWith(".pptx"),B=e=>{const a=e.target.files?.[0];if(a){if(!R(a))return alert("请上传 .pptx 格式的文件"),void(e.target.value="");if(!V(a))return alert("文件大小不能超过10MB"),void(e.target.value="");r.value=a}},D=()=>{M.value=!0},$=()=>{M.value=!1},N=e=>{M.value=!1;const a=e.dataTransfer?.files;if(a&&a.length>0){const e=a[0];if(!R(e))return void alert("请上传 .pptx 格式的文件");if(!V(e))return void alert("文件大小不能超过10MB");if(r.value=e,_.value){const a=new DataTransfer;a.items.add(e),_.value.files=a.files}}},U=async()=>{if(A.value={},n.value.trim()||(A.value.content="请输入PPT内容描述"),(i.value<1||i.value>30)&&(A.value.pageCount="页数必须在 1-30 之间"),0===Object.keys(A.value).length){z(),j.value="STREAMING";try{let e={hasTemplate:!1};r.value&&(e=await H());const a=await q();await F(a,e)}catch(e){G(e)}}},z=()=>{w.value=!0,p.value="",m.value="",h.value="",E.value="",C.value=!1,x.value="",I.value="",T.value=!0,A.value={},S.value="",L.value=!1,K.value=!1,j.value="IDLE"},H=async()=>{if(!r.value)return{hasTemplate:!1};E.value="正在上传模板文件...";const e=new FormData;e.append("template",r.value);const a=await fetch("/PPT_generate/ppt/upload-template",{method:"POST",body:e});if(!a.ok)throw new Error(`模板文件上传失败: ${a.statusText}`);const t=await a.json();if(!t.success)throw new Error(t.error||"模板文件上传失败");return{hasTemplate:!0,filename:t.filename}},q=async()=>{E.value="正在调用AI模型生成内容...";const e=new FormData;e.append("inputContent",n.value),e.append("pageCount",i.value.toString()),e.append("model",l.selectedAPI),e.append("apiKey",l.apiKey);const a=await fetch("/PPT_generate/ppt/stream",{method:"POST",body:e});if(!a.ok)throw new Error(`请求失败: ${a.statusText}`);const t=a.body?.getReader();if(!t)throw new Error("无法读取响应数据");const s=new TextDecoder;let o="",r="",c=!1;for(;;){const{done:e,value:a}=await t.read();if(e)break;o+=s.decode(a,{stream:!0});const l=o.split("\n");o=l.pop()||"";for(const t of l)if(t.trim()){let e=t.trim();if(e){if(e.includes("错误:")||e.includes("ERROR:"))throw h.value+=e+"\n",m.value+=e+"\n",E.value="流式响应失败",j.value="ERROR",new Error(e);if("STREAM_COMPLETE"===e){c=!0,E.value="流式响应完成",j.value="STREAM_COMPLETE";break}h.value+=e+"\n",m.value+=e+"\n",r+=e+"\n",(e.includes("title")||e.includes("页面"))&&(E.value="正在生成PPT内容...")}}if(c)break}if(o.trim()&&!c&&(h.value+=o,m.value+=o,r+=o),!r.trim())throw new Error("未收到有效的LLM响应内容");return r},F=async(e,a)=>{E.value="正在生成PPT文件...",j.value="PPT_GENERATING";const t={fullContent:e,inputContent:n.value,pageCount:i.value,model:l.selectedAPI,templateInfo:a},s=await fetch("/PPT_generate/ppt/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const e=await s.text();throw new Error(`PPT生成请求失败: ${s.status} ${e}`)}const o=await s.json();if(!o.success)throw new Error(o.error||"PPT生成失败");I.value=o.filename,x.value=`/PPT_generate/ppt/download/${o.filename}`,C.value=!0,E.value="PPT生成完成",j.value="COMPLETED",L.value=!0,T.value=!1,h.value+=`\nPPT生成成功: ${o.filename}\n`,m.value+=`\nPPT生成成功: ${o.filename}\n`},G=e=>{const a="生成失败: "+e.message;h.value+=a+"\n",m.value+=a+"\n",E.value="生成失败",A.value.general=e.message,j.value="ERROR",T.value=!1,K.value=!1};return t(()=>{l.loadSettings(),i.value=l.defaultPageCount}),(e,a)=>(v(),s("div",ae,[o("div",te,[o("section",le,[o("div",se,[o("label",{class:c(["file-upload-area",{"drag-over":M.value,"has-file":r.value}]),onDragover:g(D,["prevent"]),onDragleave:g($,["prevent"]),onDrop:g(N,["prevent"])},[o("div",oe,[a[4]||(a[4]=o("div",{class:"upload-icon"},[o("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),o("div",ne,[o("h3",ie,u(r.value?r.value.name:"上传PPT模板"),1),o("p",re,u(r.value?"点击重新选择文件":"点击上传或拖放制作好的PPT模板"),1),a[3]||(a[3]=o("small",{class:"upload-note"},"支持 .pptx 格式",-1))])]),o("input",{type:"file",accept:".pptx",class:"hidden",onChange:B,ref_key:"fileInput",ref:_},null,544)],34)])]),o("section",ce,[o("div",de,[o("div",ue,[o("div",ve,[a[8]||(a[8]=o("div",{class:"card-header"},[o("h2",{class:"card-title"},"输入内容"),o("p",{class:"card-subtitle"},"请描述您希望生成的PPT内容")],-1)),o("div",pe,[o("div",me,[a[5]||(a[5]=o("label",{for:"content",class:"form-label"},"内容描述",-1)),k(o("textarea",{id:"content","onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),placeholder:"请输入PPT内容描述...",rows:"8",class:c(["form-textarea",{"is-invalid":A.value.content}])},null,2),[[b,n.value]]),A.value.content?(v(),s("div",he,u(A.value.content),1)):y("",!0)]),o("div",fe,[o("div",ge,[o("div",ke,[a[6]||(a[6]=o("label",{for:"pageCount",class:"form-label"},"页数",-1)),k(o("input",{type:"number",id:"pageCount","onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),min:"1",max:"30",class:c(["form-input",{"is-invalid":A.value.pageCount}])},null,2),[[b,i.value,void 0,{number:!0}]]),A.value.pageCount?(v(),s("div",ye,u(A.value.pageCount),1)):y("",!0)])]),o("div",be,[o("div",Pe,[a[7]||(a[7]=o("label",{class:"form-label"}," ",-1)),o("button",{onClick:U,disabled:T.value||!O.value,class:c(["btn btn-primary btn-lg w-full",{"btn-loading":T.value}])},[T.value?(v(),s("span",xe,"生成中...")):(v(),s("span",Ce,"生成PPT"))],10,we)])])])])])]),o("div",Ie,[o("div",Te,[a[15]||(a[15]=o("div",{class:"card-header"},[o("h2",{class:"card-title"},"输出结果"),o("p",{class:"card-subtitle"},"生成的PPT内容将显示在这里")],-1)),o("div",Ae,[o("div",{class:c(["output-content",{"is-loading":T.value}])},[w.value||m.value?y("",!0):(v(),s("div",Me,a[9]||(a[9]=[P('<div class="empty-icon"><svg width="64" height="64" viewBox="0 0 24 24" fill="none"><path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><h3 class="empty-title">待生成</h3><p class="empty-description">请先输入内容再点击生成PPT</p>',3)]))),T.value?(v(),s("div",_e,[a[10]||(a[10]=o("div",{class:"loading-spinner"},null,-1)),a[11]||(a[11]=o("p",{class:"loading-text"},"正在生成PPT，请稍候...",-1)),E.value?(v(),s("div",Ee,u(E.value),1)):y("",!0)])):y("",!0),h.value&&T.value?(v(),s("div",Se,[o("div",Le,[a[12]||(a[12]=o("label",{class:"form-label"},"实时输出",-1)),o("div",Ke,[o("pre",null,u(h.value),1)])])])):y("",!0),m.value&&!T.value?(v(),s("div",je,[o("div",Oe,[a[13]||(a[13]=o("label",{class:"form-label"},"完整响应内容",-1)),k(o("textarea",{"onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e),placeholder:"完整的响应内容将显示在这里...",rows:"12",readonly:"",class:"form-textarea result-textarea"},null,512),[[b,m.value]])])])):y("",!0)],2)]),C.value?(v(),s("div",Ve,[o("div",Re,[o("p",Be,"文件名："+u(I.value),1),o("a",{href:x.value,download:"",class:"btn btn-success btn-lg"},a[14]||(a[14]=[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),d(" 下载PPT文件 ",-1)]),8,De)])])):y("",!0)])])])])])]))}}},{path:"/settings",name:"Settings",component:{__name:"Settings",setup(a){const l=ee(),n=e(!1),i=e(!1),r=e("auto"),d=w({}),p=w({text:"",type:"success"});f(()=>l.selectedAPI&&l.apiKey&&l.defaultPageCount>=1&&l.defaultPageCount<=30);const m=()=>{i.value=!i.value},h=async()=>{if(Object.keys(d).forEach(e=>{delete d[e]}),l.selectedAPI||(d.selectedAPI="请选择 API 服务"),l.apiKey&&0!==l.apiKey.trim().length?l.apiKey.length<10&&(d.apiKey="API 密钥长度不能少于 10 位"):d.apiKey="请输入 API 密钥",(!l.defaultPageCount||l.defaultPageCount<1||l.defaultPageCount>30)&&(d.defaultPageCount="页数必须在 1-30 之间"),0===Object.keys(d).length){n.value=!0;try{l.saveSettings(),await new Promise(e=>setTimeout(e,500)),E("设置保存成功！","success")}catch(e){E("保存设置失败，请重试","error")}finally{n.value=!1}}else E("请修复表单中的错误","error")},_=()=>{confirm("确定要重置所有设置吗？此操作不可撤销。")&&(l.selectedAPI="tongyi",l.defaultPageCount=10,l.apiKey="",r.value="auto",Object.keys(d).forEach(e=>{delete d[e]}),localStorage.removeItem("theme"),S(),E("设置已重置为默认值","success"))},E=(e,a="success")=>{p.text=e,p.type=a,setTimeout(()=>{p.text=""},3e3)},S=()=>{const e=document.documentElement;if("dark"===r.value)e.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark");else if("light"===r.value)e.removeAttribute("data-theme"),localStorage.setItem("theme","light");else{localStorage.removeItem("theme");window.matchMedia("(prefers-color-scheme: dark)").matches?e.setAttribute("data-theme","dark"):e.removeAttribute("data-theme")}};return t(()=>{l.loadSettings(),(()=>{const e=localStorage.getItem("theme");r.value="dark"===e?"dark":"light"===e?"light":"auto",S()})();const e=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{"auto"===r.value&&S()};return e.addEventListener("change",a),()=>{e.removeEventListener("change",a)}}),(e,a)=>(v(),s("div",$e,[o("div",Ne,[o("div",Ue,[o("div",ze,[a[21]||(a[21]=o("div",{class:"card-header"},[o("h2",{class:"card-title"},"系统设置"),o("p",{class:"card-subtitle"},"配置您的PPT生成参数和偏好设置")],-1)),o("div",He,[o("form",{class:"settings-form",onSubmit:g(h,["prevent"])},[o("div",qe,[a[14]||(a[14]=o("h3",{class:"section-title"},"基本设置",-1)),o("div",Fe,[a[6]||(a[6]=o("label",{for:"api",class:"form-label required"},"API服务",-1)),k(o("select",{id:"api","onUpdate:modelValue":a[0]||(a[0]=e=>x(l).selectedAPI=e),class:c(["form-select",{"is-invalid":d.selectedAPI}])},[(v(!0),s(I,null,T(x(l).availableAPIs,e=>(v(),s("option",{key:e.value,value:e.value},u(e.name),9,Ge))),128))],2),[[C,x(l).selectedAPI]]),d.selectedAPI?(v(),s("div",Je,u(d.selectedAPI),1)):y("",!0),a[7]||(a[7]=o("div",{class:"form-help"}," 选择用于生成PPT内容的AI服务提供商 ",-1))]),o("div",Ze,[a[8]||(a[8]=o("label",{for:"pageCount",class:"form-label required"},"默认PPT页数",-1)),k(o("input",{type:"number",id:"pageCount","onUpdate:modelValue":a[1]||(a[1]=e=>x(l).defaultPageCount=e),min:"1",max:"30",step:"1",class:c(["form-input",{"is-invalid":d.defaultPageCount}])},null,2),[[b,x(l).defaultPageCount,void 0,{number:!0}]]),d.defaultPageCount?(v(),s("div",We,u(d.defaultPageCount),1)):y("",!0),a[9]||(a[9]=o("div",{class:"form-help"}," 设置新建 PPT 时的默认页数（范围：1-30） ",-1))]),o("div",Ye,[a[12]||(a[12]=o("label",{for:"apiKey",class:"form-label required"},"API密钥",-1)),o("div",Qe,[k(o("input",{type:i.value?"text":"password",id:"apiKey","onUpdate:modelValue":a[2]||(a[2]=e=>x(l).apiKey=e),placeholder:"输入API密钥",class:c(["form-input",{"is-invalid":d.apiKey}]),autocomplete:"off"},null,10,Xe),[[A,x(l).apiKey]]),o("div",ea,[o("button",{type:"button",class:"btn btn-outline-secondary btn-icon",onClick:m,title:i.value?"隐藏API密钥":"显示API密钥"},[i.value?(v(),s("svg",la,a[11]||(a[11]=[o("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("line",{x1:"1",y1:"1",x2:"23",y2:"23",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(v(),s("svg",ta,a[10]||(a[10]=[o("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"},null,-1)])))],8,aa)])]),d.apiKey?(v(),s("div",sa,u(d.apiKey),1)):y("",!0),a[13]||(a[13]=o("div",{class:"form-help"}," 您的API密钥将安全存储在本地，不会上传至服务器 ",-1))])]),o("div",oa,[a[20]||(a[20]=o("h3",{class:"section-title"},"显示设置",-1)),o("div",na,[a[18]||(a[18]=o("label",{class:"form-label"},"界面主题",-1)),o("div",ia,[o("div",ra,[o("label",{class:c(["theme-option",{active:"light"===r.value}])},[k(o("input",{type:"radio",name:"theme",value:"light","onUpdate:modelValue":a[3]||(a[3]=e=>r.value=e),onChange:S,class:"theme-radio"},null,544),[[M,r.value]]),a[15]||(a[15]=P('<div class="theme-preview light-theme"><div class="theme-header"></div><div class="theme-content"><div class="theme-card"></div><div class="theme-card"></div></div></div><span class="theme-name">浅色模式</span>',2))],2),o("label",{class:c(["theme-option",{active:"dark"===r.value}])},[k(o("input",{type:"radio",name:"theme",value:"dark","onUpdate:modelValue":a[4]||(a[4]=e=>r.value=e),onChange:S,class:"theme-radio"},null,544),[[M,r.value]]),a[16]||(a[16]=P('<div class="theme-preview dark-theme"><div class="theme-header"></div><div class="theme-content"><div class="theme-card"></div><div class="theme-card"></div></div></div><span class="theme-name">深色模式</span>',2))],2),o("label",{class:c(["theme-option",{active:"auto"===r.value}])},[k(o("input",{type:"radio",name:"theme",value:"auto","onUpdate:modelValue":a[5]||(a[5]=e=>r.value=e),onChange:S,class:"theme-radio"},null,544),[[M,r.value]]),a[17]||(a[17]=P('<div class="theme-preview auto-theme"><div class="theme-header"></div><div class="theme-content"><div class="theme-card"></div><div class="theme-card"></div></div></div><span class="theme-name">跟随系统</span>',2))],2)])]),a[19]||(a[19]=o("div",{class:"form-help"}," 选择界面的显示主题，跟随系统将根据操作系统设置自动切换 ",-1))])]),o("div",ca,[o("button",{type:"submit",class:c(["btn btn-primary btn-lg",{"btn-loading":n.value}]),disabled:n.value},[n.value?(v(),s("span",va,"保存中...")):(v(),s("span",ua,"保存设置"))],10,da),o("button",{type:"button",class:"btn btn-outline-secondary btn-lg",onClick:_,disabled:n.value}," 重置设置 ",8,pa)])],32)])]),p.text?(v(),s("div",{key:0,class:c(["settings-message",p.type])},[o("div",ma,["success"===p.type?(v(),s("svg",ha,a[22]||(a[22]=[o("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):"error"===p.type?(v(),s("svg",fa,a[23]||(a[23]=[o("path",{d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):y("",!0),o("span",ga,u(p.text),1)])],2)):y("",!0)])])]))}}}],ya=_({history:E("/PPT_generate/"),routes:ka}),ba=S(X),Pa=m();ba.use(Pa),ba.use(ya),ba.mount("#app");
